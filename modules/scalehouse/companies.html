<div class="row" ng-init="tools.company.init()">
	<div class="col-md-3">
		<div class="list-group">
			<a class="list-group-item active">Existing Companies</a>
			<li class="list-group-item" ng-repeat="company in companies">
				<a ng-click="tools.company.set(company)">{{company.name}}</a>
				<a class="btn btn-danger btn-xs pull-right" ng-click="tools.company.remove(company)" ng-show="user.is('Admin')"><i class="fa fa-trash"></i></a>
			</li>
			<a class="list-group-item list-group-item-info" ng-click="tools.company.create()">Create New Company</a>
		</div>
	</div>
	<div class="col-md-9">

		<div class="well" ng-show="company">
			<h1>Company</h1>
			<form class="form-horizontal" ng-submit="tools.company.save(company)">
				<div class="form-group">
					<label for="companyName" class="col-sm-2 control-label">Name</label>
					<div class="col-sm-10">
						<input type="text" class="form-control" id="companyName" ng-model="company.name">
					</div>
				</div>
				<div class="form-group">
					<label for="companyPhone" class="col-sm-2 control-label">Phone</label>
					<div class="col-sm-10">
						<input type="text" class="form-control" id="companyPhone" ng-model="company.phone">
					</div>
				</div>
				<div class="form-group">
					<label for="companyEmail" class="col-sm-2 control-label">Email</label>
					<div class="col-sm-10">
						<input type="text" class="form-control" id="companyEmail" ng-model="company.email">
					</div>
				</div>
				<div class="form-group">
					<label for="companyAddress" class="col-sm-2 control-label">Address</label>
					<div class="col-sm-10">
						<textarea class="form-control" id="companyAddress" ng-model="company.address" placeholder="Address"></textarea>
					</div>
				</div>
				<div class="well">
					<div class="form-group" ng-repeat="vehicle in company.vehicles">
						<label class="col-sm-2 control-label">Vehicle ID</label>
						<div class="col-sm-10">
							<div class="input-group">
								<input type="text" class="form-control" ng-model="vehicle.vId" ng-disabled="vehicle.objectId" ng-blur="tools.company.blurVehicle(vehicle)">
		     					<div class="input-group-addon" ng-click="tools.company.removeVehicle(vehicle)">Delete</div>
							</div>
							<div class="list-group" ng-show="vehicle.vId && !vehicle.objectId">
								<a class="list-group-item" ng-repeat="v in vehicles | filter: vehicle.vId" ng-click="tools.company.setVehicle(vehicle, v)">{{v.vId}}</a>
							</div>
						</div>
					</div>
					<div class="col-sm-offset-2 col-sm-10">
						<a class="btn btn-info btn-block" ng-click="tools.company.addVehicle()">Add Vehicle</a>
					</div>
				</div>
				<div class="row">
					<div class="col-md-offset-6 col-md-6">
						<button type="submit" class="btn btn-success btn-block">Save</button>
					</div>
				</div>
			</form>
		</div>
	</div>
</div>